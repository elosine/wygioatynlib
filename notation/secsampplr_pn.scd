/*
0 - tr f5 3.25
1 - gn
2 - tr a#3 5.23
3 - cres 5.97 f5
4 - cres a4 9.32
5 - cres a#3 9.301
6 - note a#3
7 - note g3
*/
(
~st = [

[ 474.09563591028, 2, 1, 'trill', 0 ],
[ 485.47000813934, 2, 0, -1,1  ],
[ 486.36292405215, 2, 0, -1 ,1 ],
[ 487.08386005602, 2, 0, -1 ,1 ],
[ 487.66594031039, 2, 0, -1 ,1 ],
[ 488.16594031039, 2, 0, -1 ,1 ],
[ 488.66594031039, 2, 0, -1 ,1 ],
[ 489.16594031039, 2, 0, -1 ,1 ],
[ 489.66594031039, 2, 0, -1 ,1 ],
[ 494.46387562686, 2, 1, 'trill', 2 ],
[ 499.84784936093, 2, 1, 'hairpin', 3 ],
[ 529.352954422, 2, 1, 'hairpin', 4 ],
[ 560.49052581782, 2, 1, 'hairpin' , 5],
[ 578.14033058208, 2, 0, -1, 1 ],
[ 579.71701752336, 2, 0, -1 , 1],
[ 581.00926460186, 2, 0, -1, 1 ],
[ 582.06838576799, 2, 0, -1, 1 ],
[ 582.93643775527, 2, 0, -1 , 1],
[ 583.64789011475, 2, 0, -1, 1 ],
[ 584.2309939694, 2, 0, -1, 1 ],
[ 584.7309939694, 2, 0, -1 , 1],
[ 585.2309939694, 2, 0, -1, 1 ],
[ 585.7309939694, 2, 0, -1, 1 ],
[ 603.3222512238, 2, 0, -1,6 ],
[ 604.52963563048, 2, 0, -1 ,6],
[ 605.73702003715, 2, 0, -1 ,6],
[ 606.94440444382, 2, 0, -1 ,6],
[ 619.25205287598, 2, 0, -1 ,7],
[ 619.58570419189, 2, 0, -1, 7 ],
[ 619.93995767463, 2, 0, -1, 7 ],
[ 620.31608545848, 2, 0, -1, 7 ],
[ 620.71543822895, 2, 0, -1, 7 ],
[ 621.13945007315, 2, 0, -1, 7 ],
[ 621.58964362962, 2, 0, -1, 7 ],
[ 622.06763555616, 2, 0, -1, 7 ],
[ 622.5751423353, 2, 0, -1, 7 ],
[ 623.11398643826, 2, 0, -1, 7 ],
[ 623.68610286947, 2, 0, -1, 7 ],
[ 624.29354611522, 2, 0, -1, 7 ],
[ 624.9384975214, 2, 0, -1, 7 ],
[ 625.62327312676, 2, 0, -1, 7 ],
[ 626.3503319799, 2, 0, -1, 7 ],
[ 627.12228496972, 2, 0, -1, 7 ],
[ 627.94190420128, 2, 0, -1, 7 ],
[ 628.81213295042, 2, 0, -1, 7 ],
[ 629.73609623323, 2, 0, -1, 7 ],
[ 630.717112028, 2, 0, -1, 7 ],
[ 631.75870319022, 2, 0, -1, 7 ],
[ 632.86461010323, 2, 0, -1, 7 ],
[ 634.03880411007, 2, 0, -1, 7 ],
[ 635.28550177465, 2, 0, -1, 7 ],
[ 636.60918002358, 2, 0, -1, 7 ],
[ 638.01459222291, 2, 0, -1, 7 ],
[ 639.50678524763, 2, 0, -1, 7 ],
[ 641.09111760513, 2, 0, -1, 7 ],
[ 642.77327867776, 2, 0, -1, 7 ],
[ 644.55930915354, 2, 0, -1, 7 ],
[ 646.45562271846, 2, 0, -1, 7 ],
[ 648.46902908822, 2, 0, -1, 7 ],
[ 650.60675846208, 2, 0, -1, 7 ],
[ 652.87648748674, 2, 0, -1, 7 ],
[ 655.28636682335, 2, 0, -1, 7 ],
[ 657.84505041685, 2, 0, -1, 7 ],
[ 660.56172657244, 2, 0, -1, 7 ],
[ 663.44615095108, 2, 0, -1, 7 ],
[ 666.50868160238, 2, 0, -1, 7 ],
[ 669.76031616059, 2, 0, -1, 7 ],
[ 673.21273133745, 2, 0, -1, 7 ],
[ 676.87832485357, 2, 0, -1, 7 ],
[ 680.77025995905, 2, 0, -1, 7 ],
[ 684.902512703, 2, 0, -1, 7 ],
[ 689.289922122, 2, 0, -1, 7 ]



];

~sf = SoundFile.collectIntoBuffers("/Volumes/Untitled/lastSec/pn_samps/*", s);
~gn = SoundFile.collectIntoBuffers("/Volumes/Untitled/graceNoteGestureRecordings/gn_pn/*", s);

SynthDef(\playsamp, {
	arg buf;
	var sig = PlayBuf.ar(2, buf, doneAction:2);
	Out.ar(0, sig);
}).add;
)
(
r = Routine({
	~st.do{|it ix|
		var snum = it[4];
		snum.postln;

		if(snum == 1, {

			var motiveNum = 3.rand;
			Synth(\playsamp, [\buf, ~gn[motiveNum]]);

		}, {

			Synth(\playsamp, [\buf, ~sf[snum]]);

		}
		);


		if(ix<(~st.size-1), {
			(~st[ix+1][0] - it[0]).wait;
		});
	};
}).play;
)
