/*
0 - note f5
1 - note g5
2 - 'hairpin' 4.57 f5
3 - tr 7.69 c#5
4 - 'hairpin' 8.9 g5
5 - tr 7.69 c#5
6 - gn
7 - note f5
*/
(
~st = [

	[ 477.34614774033, 1, 0, -1, 0 ],
	[ 478.08073741586, 1, 0, -1 , 0],
	[ 478.64992631485, 1, 0, -1, 0 ],
	[ 479.09095620339, 1, 0, -1, 0 ],
	[ 479.49095620339, 1, 0, -1, 0 ],
	[ 479.89095620339, 1, 0, -1, 0 ],
	[ 480.29095620339, 1, 0, -1, 0 ],
	[ 480.69095620339, 1, 0, -1, 0 ],
	[ 481.09095620339, 1, 0, -1 , 0],
	[ 485.47000813934, 1, 0, -1, 1 ],
	[ 486.67961642189, 1, 0, -1 , 1],
	[ 487.88922470445, 1, 0, -1, 1 ],
	[ 489.098832987, 1, 0, -1 , 1],
	[ 489.89369525211, 1, 1, 'hairpin' , 2],
	[ 512.56252792838, 1, 1, 'trill' , 3],
	[ 520.4507350397, 1, 1, 'hairpin' , 4],
	[ 578.14033058208, 1, 1, 'trill' , 5],
	[ 598.37031198525, 1, 0, -1, 6 ],
	[ 599.40247321222, 1, 0, -1 , 6],
	[ 600.2630304583, 1, 0, -1, 6 ],
	[ 600.98051407852, 1, 0, -1 , 6],
	[ 601.57871105801, 1, 0, -1 , 6],
	[ 602.07871105801, 1, 0, -1 , 6],
	[ 602.57871105801, 1, 0, -1 , 6],
	[ 603.07871105801, 1, 0, -1 , 6],
	[ 603.3222512238, 1, 0, -1, 6 ],
	[ 604.22513507323, 1, 0, -1 , 6],
	[ 604.99851045694, 1, 0, -1 , 6],
	[ 605.66095389804, 1, 0, -1 , 6],
	[ 606.22837732773, 1, 0, -1 , 6],
	[ 606.72837732773, 1, 0, -1, 6 ],
	[ 607.22837732773, 1, 0, -1, 6 ],
	[ 622.36166985896, 1, 0, -1, 7 ],
	[ 622.78517101899, 1, 0, -1, 7 ],
	[ 623.22371256816, 1, 0, -1, 7 ],
	[ 623.67782865684, 1, 0, -1, 7 ],
	[ 624.14807240546, 1, 0, -1, 7 ],
	[ 624.63501657816, 1, 0, -1, 7 ],
	[ 625.13925428045, 1, 0, -1, 7 ],
	[ 625.66139968165, 1, 0, -1, 7 ],
	[ 626.20208876293, 1, 0, -1, 7 ],
	[ 626.76198009192, 1, 0, -1, 7 ],
	[ 627.34175562493, 1, 0, -1, 7 ],
	[ 627.9421215375, 1, 0, -1, 7 ],
	[ 628.56380908458, 1, 0, -1, 7 ],
	[ 629.20757549122, 1, 0, -1, 7 ],
	[ 629.87420487483, 1, 0, -1, 7 ],
	[ 630.56450920029, 1, 0, -1, 7 ],
	[ 631.27932926895, 1, 0, -1, 7 ],
	[ 632.01953574269, 1, 0, -1, 7 ],
	[ 632.78603020441, 1, 0, -1, 7 ],
	[ 633.57974625621, 1, 0, -1, 7 ],
	[ 634.40165065651, 1, 0, -1, 7 ],
	[ 635.25274449755, 1, 0, -1, 7 ],
	[ 636.13406442478, 1, 0, -1, 7 ],
	[ 637.04668389948, 1, 0, -1, 7 ],
	[ 637.99171450626, 1, 0, -1, 7 ],
	[ 638.970307307, 1, 0, -1, 7 ],
	[ 639.98365424285, 1, 0, -1, 7 ],
	[ 641.03298958602, 1, 0, -1, 7 ],
	[ 642.11959144316, 1, 0, -1, 7 ],
	[ 643.24478331213, 1, 0, -1, 7 ],
	[ 644.40993569399, 1, 0, -1, 7 ],
	[ 645.61646776234, 1, 0, -1, 7 ],
	[ 646.86584909187, 1, 0, -1, 7 ],
	[ 648.15960144834, 1, 0, -1, 7 ],
	[ 649.4993006421, 1, 0, -1, 7 ],
	[ 650.88657844745, 1, 0, -1, 7 ],
	[ 652.3231245902, 1, 0, -1, 7 ],
	[ 653.81068880573, 1, 0, -1, 7 ],
	[ 655.35108297022, 1, 0, -1, 7 ],
	[ 656.94618330756, 1, 0, -1, 7 ],
	[ 658.59793267459, 1, 0, -1, 7 ],
	[ 660.30834292756, 1, 0, -1, 7 ],
	[ 662.07949737257, 1, 0, -1, 7 ],
	[ 663.91355330308, 1, 0, -1, 7 ],
	[ 665.81274462755, 1, 0, -1, 7 ],
	[ 667.77938459033, 1, 0, -1, 7 ],
	[ 669.81586858929, 1, 0, -1, 7 ],
	[ 671.92467709337, 1, 0, -1, 7 ],
	[ 674.10837866391, 1, 0, -1, 7 ],
	[ 676.36963308314, 1, 0, -1, 7 ],
	[ 678.71119459387, 1, 0, -1, 7 ],
	[ 681.13591525419, 1, 0, -1, 7 ],
	[ 683.6467484113, 1, 0, -1, 7 ],
	[ 686.24675229877, 1, 0, -1, 7 ],
	[ 688.93909376149, 1, 0, -1, 7 ]


];



~sf = SoundFile.collectIntoBuffers("/Volumes/Untitled/lastSec/vl_samps/*", s);
~gn = SoundFile.collectIntoBuffers("/Volumes/Untitled/graceNoteGestureRecordings/gn_vl/*", s);

SynthDef(\playsamp, {
	arg buf;
	var sig = PlayBuf.ar(2, buf, doneAction:2);
	Out.ar(0, sig);
}).add;
)
(
r = Routine({
	~st.do{|it ix|
		var snum = it[4];
		snum.postln;

		if(snum == 6, {

			var motiveNum = 3.rand;
			Synth(\playsamp, [\buf, ~gn[motiveNum]]);

		}, {

			Synth(\playsamp, [\buf, ~sf[snum]]);

		}
		);


		if(ix<(~st.size-1), {
			(~st[ix+1][0] - it[0]).wait;
		});
	};
}).play;
)
